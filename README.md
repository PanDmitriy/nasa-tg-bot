# NASA Telegram Bot

Telegram –±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ—Å–º–æ—Å–µ, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π NASA, —Å–Ω–∏–º–∫–æ–≤ –ó–µ–º–ª–∏, –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø–æ–≥–æ–¥–µ –∏ –¥—Ä—É–≥–∏—Ö –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ NASA API.

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram –±–æ—Ç–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –Ω–∞ TypeScript, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º API NASA –∏ –¥–∞–Ω–Ω—ã–º –æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø–æ–≥–æ–¥–µ. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —Å–ª–µ–¥—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì∏ **APOD (Astronomy Picture of the Day)** - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –∫–æ—Å–º–æ—Å–∞ –æ—Ç NASA
- üåç **–°–Ω–∏–º–∫–∏ –ó–µ–º–ª–∏** - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ó–µ–º–ª–∏ –∏–∑ –∫–æ—Å–º–æ—Å–∞ (Natural –∏ Enhanced)
- ‚òÑÔ∏è **–ê—Å—Ç–µ—Ä–æ–∏–¥—ã** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–ª–∏–∂–∞–π—à–∏—Ö –∫ –ó–µ–º–ª–µ –∞—Å—Ç–µ—Ä–æ–∏–¥–∞—Ö
- üñºÔ∏è **–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –ø–æ–∏—Å–∫ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –∞—Ä—Ö–∏–≤–∞ NASA –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ç–µ–º–∞–º
- üåå **DONKI (–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –ø–æ–≥–æ–¥–∞)** - –¥–∞–Ω–Ω—ã–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø–æ–≥–æ–¥—ã:
  - –ö–æ—Ä–æ–Ω–∞–ª—å–Ω—ã–µ –≤—ã–±—Ä–æ—Å—ã –º–∞—Å—Å—ã (CME)
  - –°–æ–ª–Ω–µ—á–Ω—ã–µ –≤—Å–ø—ã—à–∫–∏
  - –°–æ–ª–Ω–µ—á–Ω—ã–µ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã (SEP)
  - –ì–µ–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ –±—É—Ä–∏ (GST)
  - –ú–µ–∂–ø–ª–∞–Ω–µ—Ç–Ω—ã–µ —É–¥–∞—Ä—ã (IPS)
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Å–∏–º—É–ª—è—Ü–∏–∏ WSA-ENLIL

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- TypeScript
- Node.js
- Telegraf (Telegram Bot Framework)
- Axios (HTTP –∫–ª–∏–µ–Ω—Ç)
- Prisma (ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö)
- SQLite (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- ESLint & Prettier (–õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- Docker (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js (–≤–µ—Ä—Å–∏—è 18 –∏–ª–∏ –≤—ã—à–µ)
- npm –∏–ª–∏ yarn
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏)
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))
- NASA API Key (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ [api.nasa.gov](https://api.nasa.gov/))

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/PanDmitriy/nasa-tg-bot
```

```bash
cd nasa-tg-bot
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
NASA_API_KEY=your_nasa_api_key
DATABASE_URL=file:./data/bot.db
```

–ì–¥–µ:
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))
- `NASA_API_KEY` - API –∫–ª—é—á NASA (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ [api.nasa.gov](https://api.nasa.gov/))
- `DATABASE_URL` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite

4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
npm run db:generate
npm run db:migrate
```

## –ó–∞–ø—É—Å–∫

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
npm run dev
```

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
npm run build
npm start
```

### Docker
```bash
docker build -t nasa-tg-bot .
docker run -d --env-file .env nasa-tg-bot
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/apod` - –ü–æ–ª—É—á–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –¥–Ω—è –æ—Ç NASA
- `/earth` - –ü–æ–ª—É—á–∏—Ç—å —Å–Ω–∏–º–æ–∫ –ó–µ–º–ª–∏ –∏–∑ –∫–æ—Å–º–æ—Å–∞
- `/asteroids` - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–ª–∏–∂–∞–π—à–∏—Ö –∞—Å—Ç–µ—Ä–æ–∏–¥–∞—Ö
- `/images` - –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π NASA (–≤—ã–±–æ—Ä —Ç–µ–º—ã –∏–ª–∏ –ø–æ–∏—Å–∫)
- `/donki` - –ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –ø–æ–≥–æ–¥–∞ (DONKI)
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø–æ–≥–æ–¥—ã
  - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ app/                    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ types/             # –¢–∏–ø—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ entities/              # –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ location/          # –¢–∏–ø—ã –ª–æ–∫–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ photo/            # –¢–∏–ø—ã —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ user/             # –¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ features/             # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ apod/             # APOD API
‚îÇ   ‚îú‚îÄ‚îÄ asteroids/        # –ê—Å—Ç–µ—Ä–æ–∏–¥—ã API
‚îÇ   ‚îú‚îÄ‚îÄ donki/            # DONKI API –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ earth/            # Earth API
‚îÇ   ‚îú‚îÄ‚îÄ images/           # Images API
‚îÇ   ‚îî‚îÄ‚îÄ nasa/             # –ë–∞–∑–æ–≤—ã–π NASA API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ processes/            # –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ bot/              # Telegram –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/     # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts      # –ö–ª–∞—Å—Å –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts      # –¢–∏–ø—ã –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ notifications/    # –°–µ—Ä–≤–∏—Å—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ donki-notifications.ts  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö DONKI
‚îî‚îÄ‚îÄ shared/               # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ api/              # –û–±—â–∏–µ API –∫–ª–∏–µ–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ db/               # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
    ‚îÇ   ‚îú‚îÄ‚îÄ prisma.ts     # Prisma –∫–ª–∏–µ–Ω—Ç
    ‚îÇ   ‚îî‚îÄ‚îÄ repositories/ # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
    ‚îú‚îÄ‚îÄ lib/              # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
    ‚îî‚îÄ‚îÄ ui/               # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
```

## –°–∫—Ä–∏–ø—Ç—ã

- `npm start` - –∑–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `npm run build` - —Å–±–æ—Ä–∫–∞ TypeScript –∫–æ–¥–∞ –≤ JavaScript
- `npm run dev` - –∑–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å hot-reload
- `npm run lint` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º ESLint
- `npm run format` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é Prettier
- `npm run db:generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
- `npm run db:migrate` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `npm run db:studio` - –∑–∞–ø—É—Å–∫ Prisma Studio –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Feature-Sliced Design –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞. –ö–∞–∂–¥—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω.

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Prisma ORM —Å SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `data/bot.db` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –•—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è DONKI

### –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ë–æ—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–æ–±—ã—Ç–∏—è—Ö –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π –ø–æ–≥–æ–¥—ã (DONKI). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π –∏ –ø–æ–ª—É—á–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –≤ `src/features/`
2. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `src/processes/bot/handlers/`
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ `src/processes/bot/index.ts`
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –º–æ–¥–µ–ª–∏ –≤ `prisma/schema.prisma` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é

## –õ–∏—Ü–µ–Ω–∑–∏—è

ISC